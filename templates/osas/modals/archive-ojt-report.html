{% block archive-ojt-report %}
<div id="reportArchiveModal" class="modal">
    <div class="modal-overlay" onclick="closeReportArchiveModal()"></div>
    <div class="modal-container">
        <div class="modal-header">
            <div class="header-content">
                <h2>Archive OJT Report</h2>
                <p class="header-description" id="reportArchiveDescription">Are you sure you want to archive this report?</p>
            </div>
            <button class="modal-close" onclick="closeReportArchiveModal()">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="var(--white)" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <line x1="18" y1="6" x2="6" y2="18"></line>
                    <line x1="6" y1="6" x2="18" y2="18"></line>
                </svg>
            </button>
        </div>

        <form id="reportArchiveForm" method="post" action="">
            {% csrf_token %}
            <input type="hidden" name="report_id" id="archiveReportId">

            <div class="form-body">
                <div class="form-intro">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="var(--warning)" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <circle cx="12" cy="12" r="10"></circle>
                        <line x1="12" y1="8" x2="12" y2="12"></line>
                        <line x1="12" y1="16" x2="12.01" y2="16"></line>
                    </svg>
                    <p>Archiving will hide this report from regular views but keep it in the system for record-keeping purposes.</p>
                </div>

                <!-- Report Details Preview -->
                <div class="report-preview">
                    <div class="preview-header">
                        <h4 id="archiveReportTitle">-</h4>
                        <div class="preview-badges">
                            <span class="type-badge" id="archiveReportType">-</span>
                            <span class="status-badge" id="archiveReportStatus">-</span>
                        </div>
                    </div>
                    <div class="preview-details">
                        <div class="preview-grid">
                            <div class="preview-item">
                                <span class="preview-label">Student:</span>
                                <span class="preview-value" id="archiveReportStudent">-</span>
                            </div>
                            <div class="preview-item">
                                <span class="preview-label">Company:</span>
                                <span class="preview-value" id="archiveReportCompany">-</span>
                            </div>
                            <div class="preview-item">
                                <span class="preview-label">Report Date:</span>
                                <span class="preview-value" id="archiveReportDate">-</span>
                            </div>
                            <div class="preview-item">
                                <span class="preview-label">Submitted By:</span>
                                <span class="preview-value" id="archiveReportSubmittedBy">-</span>
                            </div>
                            <div class="preview-item">
                                <span class="preview-label">Submitted On:</span>
                                <span class="preview-value" id="archiveReportSubmittedAt">-</span>
                            </div>
                            <div class="preview-item">
                                <span class="preview-label">Attachments:</span>
                                <span class="preview-value" id="archiveReportAttachments">-</span>
                            </div>
                        </div>
                        
                        <!-- Period Information (for weekly/monthly reports) -->
                        <div class="period-info" id="archivePeriodInfo" style="display: none;">
                            <div class="preview-item">
                                <span class="preview-label">Period:</span>
                                <span class="preview-value" id="archiveReportPeriod">-</span>
                            </div>
                        </div>

                        <!-- Description Preview -->
                        <div class="description-preview">
                            <span class="preview-label">Description:</span>
                            <div class="preview-description" id="archiveReportDescription">-</div>
                        </div>
                    </div>
                </div>

                <!-- Archive Impact Warning -->
                <div class="archive-impact-warning">
                    <div class="warning-header">
                        <i class='bx bx-error-circle'></i>
                        <h4>Archive Impact</h4>
                    </div>
                    <div class="warning-content">
                        <p><strong>This action will:</strong></p>
                        <ul>
                            <li>Hide this report from regular views and searches</li>
                            <li>Preserve all report data and attachments</li>
                            <li>Keep the report accessible to administrators in archived records</li>
                            <li>Prevent further edits to this report</li>
                        </ul>
                        <div class="review-status-warning" id="reviewStatusWarning" style="display: none;">
                            <i class='bx bx-info-circle'></i>
                            <div>
                                <strong>Note:</strong> This report has been reviewed and approved. Archiving will preserve the review status.
                            </div>
                        </div>
                    </div>
                </div>

                <div id="reportArchiveFormResponse" class="form-response"></div>
            </div>

            <div class="modal-footer">
                <button type="button" class="btn btn-cancel" onclick="closeReportArchiveModal()">Cancel</button>
                <button type="submit" class="btn btn-warning" id="archiveReportSubmitBtn">
                    <span class="btn-text">Archive Report</span>
                    <span class="btn-loader">
                        <svg viewBox="0 0 50 50">
                            <circle cx="25" cy="25" r="20" fill="none" stroke-width="5"></circle>
                        </svg>
                    </span>
                </button>
            </div>
        </form>
    </div>
</div>
{% endblock archive-ojt-report %}