{% block review-ojt-report %}
<div id="reportReviewModal" class="modal">
    <div class="modal-overlay" onclick="closeReportReviewModal()"></div>
    <div class="modal-container">
        <div class="modal-header">
            <div class="header-content">
                <h2>Review Report</h2>
                <p class="header-description" id="reportReviewDescription">Mark as reviewed and provide feedback</p>
            </div>
            <button class="modal-close" onclick="closeReportReviewModal()">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <line x1="18" y1="6" x2="6" y2="18"></line>
                    <line x1="6" y1="6" x2="18" y2="18"></line>
                </svg>
            </button>
        </div>

        <form id="reportReviewForm" method="post" action="">
            {% csrf_token %}
            <input type="hidden" name="report_id" id="reviewReportId">

            <div class="form-body">
                <div class="form-intro">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <path d="M14 9V5a3 3 0 0 0-3-3l-4 9v11h11.28a2 2 0 0 0 2-1.7l1.38-9a2 2 0 0 0-2-2.3zM7 22H4a2 2 0 0 1-2-2v-7a2 2 0 0 1 2-2h3"></path>
                    </svg>
                    <p>Reviewing this report will mark it as approved and notify the student.</p>
                </div>

                <!-- Report Details Preview -->
                <div class="report-preview">
                    <div class="preview-header">
                        <h4 id="reviewReportTitle">-</h4>
                        <div class="preview-badges">
                            <span class="type-badge" id="reviewReportType">-</span>
                            <span class="status-badge" id="reviewReportStatus">Submitted</span>
                        </div>
                    </div>
                    <div class="preview-details">
                        <div class="preview-grid">
                            <div class="preview-item">
                                <span class="preview-label">Student</span>
                                <span class="preview-value" id="reviewReportStudent">-</span>
                            </div>
                            <div class="preview-item">
                                <span class="preview-label">Company</span>
                                <span class="preview-value" id="reviewReportCompany">-</span>
                            </div>
                            <div class="preview-item">
                                <span class="preview-label">Report Date</span>
                                <span class="preview-value" id="reviewReportDate">-</span>
                            </div>
                            <div class="preview-item">
                                <span class="preview-label">Submitted By</span>
                                <span class="preview-value" id="reviewReportSubmittedBy">-</span>
                            </div>
                            <div class="preview-item">
                                <span class="preview-label">Submitted On</span>
                                <span class="preview-value" id="reviewReportSubmittedAt">-</span>
                            </div>
                            <div class="preview-item">
                                <span class="preview-label">Attachments</span>
                                <span class="preview-value" id="reviewReportAttachments">-</span>
                            </div>
                        </div>

                        <!-- Period Information -->
                        <div class="period-info" id="reviewPeriodInfo" style="display: none;">
                            <div class="preview-item">
                                <span class="preview-label">Period</span>
                                <span class="preview-value" id="reviewReportPeriod">-</span>
                            </div>
                        </div>

                        <!-- Description Preview -->
                        <div class="description-preview">
                            <span class="preview-label">Description</span>
                            <div class="preview-description" id="reviewReportDescription">-</div>
                        </div>
                    </div>
                </div>

                <!-- Feedback Section -->
                <div class="form-section">
                    <label for="reviewFeedback" class="form-label">
                        Review Feedback
                        <span class="optional">(Optional)</span>
                    </label>
                    <textarea
                        id="reviewFeedback"
                        name="feedback"
                        class="form-textarea"
                        placeholder="Provide feedback or comments about this report..."
                        rows="4"
                    ></textarea>
                    <div class="form-hint">
                        This feedback will be visible to the student who submitted the report.
                    </div>
                </div>

                <!-- Review Impact Information -->
                <div class="review-impact-info">
                    <div class="info-header">
                        <i class='bx bx-check-circle'></i>
                        <h4>Review Impact</h4>
                    </div>
                    <div class="info-content">
                        <p><strong>This action will:</strong></p>
                        <ul>
                            <li>Mark this report as "Reviewed" in the system</li>
                            <li>Record you as the reviewer with timestamp</li>
                            <li>Update the report status for tracking purposes</li>
                            <li>Preserve any feedback provided for the student</li>
                        </ul>
                    </div>
                </div>

                <div id="reportReviewFormResponse" class="form-response"></div>
            </div>

            <div class="modal-footer">
                <button type="button" class="btn btn-cancel" onclick="closeReportReviewModal()">Cancel</button>
                <button type="submit" class="btn btn-success" id="reviewReportSubmitBtn">
                    <span class="btn-text">Mark as Reviewed</span>
                    <span class="btn-loader">
                        <svg viewBox="0 0 50 50">
                            <circle cx="25" cy="25" r="20" fill="none" stroke="currentColor" stroke-width="5"></circle>
                        </svg>
                    </span>
                </button>
            </div>
        </form>
    </div>
</div>
{% endblock review-ojt-report %}