<div id="nstpExportModal" class="modal">
  <div class="modal-overlay" onclick="closeNSTPExportModal()"></div>
  <div class="modal-container">
    <div class="modal-header">
      <div class="header-content">
        <h2>Export NSTP Data</h2>
        <p class="header-description">Select export options and filters for the NSTP data</p>
      </div>
      <button class="modal-close" onclick="closeNSTPExportModal()">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="var(--white)" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <line x1="18" y1="6" x2="6" y2="18"></line>
          <line x1="6" y1="6" x2="18" y2="18"></line>
        </svg>
      </button>
    </div>

    <form id="nstpExportForm" class="approval-form">
      <div class="form-body">
        <div class="form-intro">
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="var(--primary)" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
            <polyline points="7 10 12 15 17 10"></polyline>
            <line x1="12" y1="15" x2="12" y2="3"></line>
          </svg>
          <p>Select the filters you want to apply to the exported data. If you want to export All Data just click the Export Data button without filters</p>
        </div>

        <div id="nstpExportFormResponse" class="form-response"></div>

        <div class="form-main-layout">
          <div class="form-section">
            <h3 class="section-title">Export Options</h3>

            <div class="form-group">
              <label for="exportTitle">Report Title (Optional)</label>
              <input type="text" id="exportTitle" name="export_title" class="form-input"
                     placeholder="Enter custom title (default: 'Title')">
              <small class="form-hint">This will appear as the main title in the exported file</small>
            </div>

            <div class="form-group">
              <label for="exportSemester">Semester (Optional)</label>
              <select id="exportSemester" name="semester" class="form-input">
                <option value="">All Semesters</option>
                <option value="1st Sem">First Semester</option>
                <option value="2nd Sem">Second Semester</option>
              </select>
            </div>

            <div class="form-group">
              <label for="exportAcademicYear">Academic Year (Optional)</label>
              <input type="text" id="exportAcademicYear" name="academic_year" class="form-input"
                     placeholder="YYYY-YYYY (e.g., 2024-2025)"
                     pattern="\d{4}-\d{4}">
              <small class="form-hint">Format: YYYY-YYYY (e.g., 2024-2025)</small>
            </div>

            <div class="form-group">
              <label class="checkbox-label">
                <input type="checkbox" id="exportIncludeSearch" name="include_search" checked>
                <span>Include current search/filter results</span>
              </label>
            </div>
          </div>
        </div>
      </div>

      <div class="modal-footer">
        <button type="button" class="btn btn-cancel" onclick="closeNSTPExportModal()">Cancel</button>
        <button type="submit" class="btn btn-primary">
          <span class="btn-text">
            <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-right: 8px;">
              <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
              <polyline points="7 10 12 15 17 10"></polyline>
              <line x1="12" y1="15" x2="12" y2="3"></line>
            </svg>
            Export Data
          </span>
          <span class="btn-loader">
            <svg viewBox="0 0 50 50">
              <circle cx="25" cy="25" r="20" fill="none" stroke-width="5"></circle>
            </svg>
          </span>
        </button>
      </div>
    </form>
  </div>
</div>